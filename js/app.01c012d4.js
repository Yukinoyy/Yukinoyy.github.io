(function(){"use strict";var t={789:function(t,e,r){var i=r(6369),o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"timer"},[e("reverseTime")],1),e("div",{staticClass:"wrap"},[e("todoHeader",{attrs:{addItem:t.addItem}}),e("todoList",{attrs:{listArr:t.listArr,checkTodo:t.checkTodo,delTodo:t.delTodo}}),e("todoFooter",{attrs:{listArr:t.listArr,delAll:t.delAll}})],1)])},s=[],n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"box1"},[e("p",{staticClass:"time"},[t._v("今天是"+t._s(t.date)+t._s(t.holiday))]),e("div",{staticClass:"text"},[e("span",[t._v("倒计时离")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],on:{click:function(e){return t.change()}}},[t._v(t._s(this.inpValue))]),e("input",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"},{name:"model",rawName:"v-model",value:t.inpValue,expression:"inpValue"}],ref:"inp",attrs:{type:"text",placeholder:"2023-1-1"},domProps:{value:t.inpValue},on:{blur:function(e){return t.nofocus(e)},input:function(e){e.target.composing||(t.inpValue=e.target.value)}}}),e("span",[t._v("还有")])]),e("div",{staticClass:"box2"},[e("span",[t._v(t._s(t.reverseTime.days))]),e("i",[t._v("天")]),e("span",[t._v(t._s(t.reverseTime.hour))]),e("i",[t._v(":")]),e("span",[t._v(t._s(t.reverseTime.minute))]),e("i",[t._v(":")]),e("span",[t._v(t._s(t.reverseTime.second))])]),e("p",{staticClass:"now"},[t._v("现在是"+t._s(t.time))])])])},a=[],l={data(){return{date:"",time:"",interval:"",isShow:"true",inpValue:JSON.parse(localStorage.getItem("Date"))||"2023-1-1",dateArr:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],holiday:"",reverseTime:{days:"",hour:"",minute:"",second:""}}},methods:{change(){this.isShow=!this.isShow,this.$nextTick((()=>{this.$refs.inp.focus()}))},nofocus(t){if(this.isShow=!0,!t.target.value.trim())return this.inpValue="2023-1-1",alert("输入不能为空");this.inpValue=t.target.value,localStorage.setItem("Date",JSON.stringify(t.target.value)),this.getDate1(),this.getDate2(),setInterval((()=>{this.getDate2(),this.getDate1()}),1e3)},getDate1(){var t=new Date,e=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getDay();this.holiday=this.dateArr[o];var s=t.getHours();s=s<10?"0"+s:s;var n=t.getMinutes();n=n<10?"0"+n:n;var a=t.getSeconds();a=a<10?"0"+a:a,this.date=e+"年"+r+"月"+i+"日",this.time=s+":"+n+":"+a},getDate2(){var t=+new Date,e=this.inpValue,r=+new Date(e);(t===r||t>r)&&clearInterval(this.interval);var i=(r-t)/1e3,o=parseInt(i/60/60/24);this.reverseTime.days=o<10?"0"+o:o;var s=parseInt(i/60/60%24);this.reverseTime.hour=s<10?"0"+s:s;var n=parseInt(i/60%60);this.reverseTime.minute=n<10?"0"+n:n;var a=parseInt(i%60);this.reverseTime.second=a<10?"0"+a:a}},mounted(){this.getDate1(),this.getDate2(),this.interval=setInterval((()=>{this.getDate1(),this.getDate2()}),1e3)}},d=l,u=r(1001),c=(0,u.Z)(d,n,a,!1,null,"9cbb2d6c",null),h=c.exports,p=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticStyle:{color:"red"}},[t._v("Todo List")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"inp",attrs:{type:"text",placeholder:"请输入待办事项",maxlength:"27"},domProps:{value:t.inputValue},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}})])},v=[],f=r(691),m={data(){return{creatdate:"",inputValue:""}},props:["addItem"],methods:{add(t){if(!t.target.value.trim())return alert("输入数据不能为空");this.creatdate=(new Date).toLocaleString();const e={id:(0,f.x0)(),name:t.target.value,done:!1,dates:this.creatdate};this.addItem(e),t.target.value=""},getBLen(t){return t?/[\u4E00-\u9FA5]/g.test(t)?2:1:0}},watch:{inputValue(t){var e=0;if(t.split("").forEach((t=>{e+=this.getBLen(t)})),e>26){var r=this.inputValue.split("");return this.inputValue=r.splice(0,r.length-1).join(""),alert("输入字符长度过长")}}},mounted(){this.$refs.inp.focus()}},g=m,b=(0,u.Z)(g,p,v,!1,null,"60afaabd",null),w=b.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("transition-group",{attrs:{name:"item",appear:""}},t._l(t.listArr,(function(r){return e("todoItem",{key:r.id,attrs:{todoObj:r,checkTodo:t.checkTodo,delTodo:t.delTodo}})})),1),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.listArr.length,expression:"!listArr.length"}]},[t._v("没有待办事项哦~")])],1)},k=[],T=function(){var t=this,e=t._self._c;return e("div",[e("li",[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.todoObj.done},on:{click:function(e){return t.changeCheck(t.todoObj.id)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.todoObj.isEdit,expression:"!todoObj.isEdit"}],class:{crossing:t.todoObj.done}},[t._v(t._s(t.todoObj.name))]),e("input",{directives:[{name:"show",rawName:"v-show",value:t.todoObj.isEdit,expression:"todoObj.isEdit"}],ref:"inputEdit",attrs:{type:"text"},domProps:{value:t.todoObj.name},on:{blur:function(e){return t.handleBlur(t.todoObj,e)}}}),e("span",{staticClass:"dates"},[t._v("创建时间:"+t._s(t.todoObj.dates))]),e("button",{staticClass:"but2",on:{click:function(e){return t.del(t.todoObj.id)}}},[t._v("删除")]),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.todoObj.isEdit,expression:"!todoObj.isEdit"}],staticClass:"but1",on:{click:function(e){return t.edit(t.todoObj)}}},[t._v("编辑")])])])},x=[],A={data(){return{}},props:["todoObj","checkTodo","delTodo"],methods:{changeCheck(t){this.checkTodo(t),this.isExit=!this.isExit},del(t){confirm("确定删除吗？")&&this.delTodo(t)},edit(t){Object.prototype.hasOwnProperty.call(t,"isEdit")?t.isEdit=!0:this.$set(t,"isEdit",!0),this.$nextTick((()=>{this.$refs.inputEdit.focus()}))},handleBlur(t,e){if(t.isEdit=!1,!e.target.value.trim())return alert("输入不能为空");this.$bus.$emit("updateTodo",t.id,e.target.value)}}},O=A,y=(0,u.Z)(O,T,x,!1,null,"a276c35c",null),j=y.exports,E={components:{todoItem:j},props:["listArr","checkTodo","delTodo"]},D=E,S=(0,u.Z)(D,_,k,!1,null,"69862102",null),I=S.exports,C=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}]},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.isAll},on:{click:t.checkAll}}),e("span",[t._v("已完成"+t._s(t.doneNum)+"/全部"+t._s(t.total))]),e("button",{on:{click:t.del}},[t._v("清除已完成任务")])])},V=[],N={props:["listArr","delAll"],computed:{total(){return this.listArr.length},doneNum(){return this.listArr.reduce(((t,e)=>t+(e.done?1:0)),0)},isAll(){return this.total===this.doneNum&&this.total>0}},methods:{checkAll(t){this.listArr.forEach((e=>{e.done=t.target.checked}))},del(){this.delAll()}}},$=N,P=(0,u.Z)($,C,V,!1,null,"01be99c4",null),Z=P.exports,L={data(){return{listArr:JSON.parse(localStorage.getItem("listArr"))||[]}},components:{todoHeader:w,todoList:I,todoFooter:Z,reverseTime:h},methods:{addItem(t){this.listArr.unshift(t)},checkTodo(t){this.listArr.forEach((e=>{e.id===t&&(e.done=!e.done)}))},delTodo(t){this.listArr=this.listArr.filter((e=>e.id!==t))},delAll(){this.listArr=this.listArr.filter((t=>!t.done))}},watch:{listArr:{deep:!0,handler(t){localStorage.setItem("listArr",JSON.stringify(t))}}},mounted(){this.$bus.$on("updateTodo",((t,e)=>{this.listArr.forEach((r=>{r.id===t&&(r.name=e)}))}))},beforeDestroy(){this.$bus.$off("updateTodo")}},F=L,B=(0,u.Z)(F,o,s,!1,null,"704ee7c6",null),J=B.exports;i.ZP.config.productionTip=!1,new i.ZP({render:t=>t(J),beforeCreate(){i.ZP.prototype.$bus=this}}).$mount("#app")}},e={};function r(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,i,o,s){if(!i){var n=1/0;for(u=0;u<t.length;u++){i=t[u][0],o=t[u][1],s=t[u][2];for(var a=!0,l=0;l<i.length;l++)(!1&s||n>=s)&&Object.keys(r.O).every((function(t){return r.O[t](i[l])}))?i.splice(l--,1):(a=!1,s<n&&(n=s));if(a){t.splice(u--,1);var d=o();void 0!==d&&(e=d)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,o,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,s,n=i[0],a=i[1],l=i[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var u=l(r)}for(e&&e(i);d<n.length;d++)s=n[d],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(u)},i=self["webpackChunktodo"]=self["webpackChunktodo"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(789)}));i=r.O(i)})();
//# sourceMappingURL=app.01c012d4.js.map